3、单例模式

**单例模式，属于创建类型的一种常用的[软件设计模式](https://baike.baidu.com/item/软件设计模式/2117635?fromModule=lemma_inlink)。通过单例模式的方法创建的类在当前进程中只有一个[实例](https://baike.baidu.com/item/实例/3794138?fromModule=lemma_inlink)（根据需要，也有可能一个线程中属于单例，如：仅线程上下文内使用同一个实例）**

特点：

1、只有一个实例对象（内存中）避免重复创建，减少开销

2、必须由单例类自行创建

3、对外有一个全局访问点  （可以跨线程使用）

缺点：

1、扩展比较困难

2、并发测试不好调测

3、功能代码在一个类，违背单一职责；



应用场景：

1、频繁创建一些类，降低内存，减少GC；

2、需求只需要生成一次；

3、某些类资源占用多，实例化时间长，变化少；



懒汉式单例：

![image-20240428140514953](C:\Users\75414\AppData\Roaming\Typora\typora-user-images\image-20240428140514953.png)

特点：类在加载时不生成单例；只有调用时会生成； 可能有线程安全问题；需考虑线程安全问题



饿汉式单例：

![image-20240428140634935](C:\Users\75414\AppData\Roaming\Typora\typora-user-images\image-20240428140634935.png)

特点：加载即创建；线程安全